doctype html
html
head
  meta(charset='UTF-8')
  meta(name='viewport' content='width=device-width, initial-scale=1.0')
  title Receipt - MWF Industries
  link(href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css' rel='stylesheet')
  link(rel="stylesheet", href="/css/receipt.css")
  style.
body
  .receipt-wrapper
    .action-buttons
      button.btn.btn-print(onclick="window.print()")
        i.fas.fa-print
        | PRINT
      button.btn.btn-close(onclick="window.close()")
        i.fas.fa-times
        | CLOSE
    
    .receipt-container
      .receipt-header
        .company-name MAYONDO WOOD AND FURNITURE LIMITED
        .company-info
          div Kampala, Central Region, Uganda
          div
            i.fas.fa-phone
            |  +256-783-177-696 | 
            i.fas.fa-envelope
            |  info@mukundowood.com
      
      .receipt-meta
        .meta-item
          .meta-label Receipt #
          .meta-value= 'RCP-' + sale._id.toString().slice(-6).toUpperCase()
        .meta-item
          .meta-label Issue Date
          .meta-value= new Date().toLocaleDateString('en-GB') + ' | ' + new Date().toLocaleTimeString('en-US', {hour: '2-digit', minute: '2-digit'})
        .meta-item
          .meta-label Time
          .meta-value= new Date().toLocaleTimeString('en-US', {hour: '2-digit', minute: '2-digit', second: '2-digit'})
        .meta-item
          .meta-label Customer
          .meta-value= sale.customerName
      
      .receipt-details
        .section-title
          i.fas.fa-info-circle
          | Payment Information
        .detail-row
          .detail-label Payment Method:
          .detail-value= sale.paymentType
        .detail-row
          .detail-label Sales Agent:
          .detail-value= sale.salesAgent ? sale.salesAgent.username : 'No Agent'
      
      .section-title
        i.fas.fa-box
        | Item Details
      
      table.items-table
        thead
          tr
            th Item
            th Qty
            th Price
            th Total
        tbody
          tr
            td= sale.productName + ' (' + sale.productType + ')'
            td= sale.quantitySold
            td= 'UGX ' + sale.unitPrice.toLocaleString()
            td= 'UGX ' + (sale.quantitySold * sale.unitPrice).toLocaleString()
      
      .total-section
        .total-row
          .total-label SUBTOTAL:
          .total-value= 'UGX ' + (sale.quantitySold * sale.unitPrice).toLocaleString()
        
        if sale.checkBox === 'on'
          .total-row
            .total-label TRANSPORT:
            .total-value UGX 1,800
        
        .total-row.grand-total
          .total-label TOTAL AMOUNT:
          .total-value= 'UGX ' + ((sale.quantitySold * sale.unitPrice) + (sale.checkBox === 'on' ? 1800 : 0)).toLocaleString()
      
      .receipt-footer
        .thank-you
          |  Thank You for Your Business!
        .footer-info
          p
            i.fas.fa-map-marker-alt
            |  Visit us at Kampala for quality wood and furniture
          p
            i.fas.fa-phone
            |  Contact: +256-763-177-659
          p
            i.fas.fa-globe
            |  www.mayondowood.com